<!DOCTYPE html>
<html ng-app="Todo">
  <head>
    <link rel="stylesheet" href="styles/todo.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.14/angular.min.js"></script>
    <script src="build/app.js"></script>
    <script src="http://localhost:35729/livereload.js"></script>
  </head>
  <body ng-controller="TodoCtrl as vm">
    <h2>To Do List</h2>
    <div>
      {{vm.todoList.getUncompletedCount()}} of {{vm.todoList.length}} remaining
      <button ng-click="vm.todoList.archiveCompleted()">Archive Completed</button>
    </div>
    <br>

    <!-- Wrapping this in a form causes the button to be activated
         when the input has focus and the return key is pressed. -->
    <form>
      <input type="text" ng-model="vm.todoText" size="30"
        placeholder="enter new todo here" autofocus>
      <button ng-click="vm.addTodo()" ng-disabled="!vm.todoText">Add</button>
    </form>

    <ul class="unstyled">
      <li ng-repeat="(timestamp, todo) in vm.todoList.todos">
        <input type="checkbox" ng-model="todo.done">
        <span class="done-{{todo.done}}">{{todo.text}}</span>
        <button ng-click="vm.todoList.delete(todo)">Delete</button>
      </li>
    </ul>
  </body>
</html>
